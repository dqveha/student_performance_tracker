<h2><%= @teacher.first_name + " " + @teacher.last_name%></h2>

<%= form_with(model: @teacher, local: true) do |form| %>
<div class="actions">
    <%= form.label "Add a Student"%>
    <%= form.collection_select(:student_ids, Student.all, :id, :student_name, { :multiple => true }) %>
    <%= form.submit %>
  </div>
  <% end %>

<% if @teacher.students.any? %>
<%= paginate @students %>
      <div class="row">
        <% @teacher.students.order(:last_name).each do |student| %>
          <%= render :partial => "/students/student_card", :locals => {:student => student} %>
        <% end %>
<%= paginate @students %>
      </div>
<% else %>
  <p>There are no students assigned to this teacher</p>
<% end %>

<%= link_to 'Edit teacher', edit_teacher_path(@teacher) %>
<%= link_to 'Back to All Teachers', teachers_path %>
<p><%= link_to "Delete Teacher", teacher_path( @teacher),
                         :data => {:confirm => "You sure?",
                                   :method => "delete"} %></p>

<p id="notice"><%= notice %></p>